buildscript {
    repositories { jcenter() }
    dependencies { classpath "com.netflix.nebula:nebula-plugin-plugin:2.0.+" }
}

description 'Test harness for Gradle plugins'
apply plugin: 'nebula-plugin' // applying to even nebula-test since it had 99% of the characterizes of a nebula-plugin
apply plugin: 'idea'

dependencies {
    compile gradleApi() // Sadly not transitive

    compile ('org.spockframework:spock-core:0.7-groovy-2.0') { exclude group: 'org.codehaus.groovy' }
    // Waiting for this to be published to maven central
    // https://bintray.com/robfletcher/maven/spock-extensions/view
    // compile ('com.energizedwork:spock-extensions:1.0') { exclude group: 'org.codehaus.groovy' }
    compile 'cglib:cglib-nodep:2.2.2' // For Mocking classes with Spock
    //compile "org.gradle:gradle-tooling-api:${gradle.gradleVersion}" // Still not in Maven Central...

    // Gradle provides commons-lang 2.6, but since gradleApi doesn't participate in conflict resolution, we're at the whim
    // of any other dependencies on commons-lang coming first in the classpath. This direct dependency is a poor attempt
    // at including a newer version of commons-lang for Gradle. :-(
    compile 'commons-lang:commons-lang:2.6'
}

contacts {
    'justin@halfempty.org' {
        moniker 'Justin Ryan'
        github 'quidryan'
    }
    'rob.spieldenner@gmail.com' {
        moniker 'Rob Spieldenner'
        github 'rspieldenner'
    }
}
